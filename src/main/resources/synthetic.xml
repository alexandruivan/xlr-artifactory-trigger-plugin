<!--

    THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS
    FOR A PARTICULAR PURPOSE. THIS CODE AND INFORMATION ARE NOT SUPPORTED BY XEBIALABS.

-->
<synthetic xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://www.xebialabs.com/deployit/synthetic"
           xsi:schemaLocation="http://www.xebialabs.com/deployit/synthetic synthetic.xsd">

    <type type="artifactory.PublishedArtifact" extends="xlrelease.ReleaseTrigger" description="Triggers release when new version of artifact is published to artifactory repository">
        <!-- common -->
        <property name="groupId" required="true" description="Group ID of the artifact"/>
        <property name="artifactId" required="true" description="Artifact ID of the artifact"/>
        <!--<property name="version" default="LATEST" required="true" description="Version of the artifact, supports resolving of 'LATEST'(default), 'RELEASE' and snapshot versions (e.g. '1.0-SNAPSHOT'). Specify 'LATEST' to trigger on both, release and snapshot versions of a particular artifact. With 'RELEASE' only release versions will be tracked. Triggering on release version re-deployments (e.g. 1.0.0) is not supported"/>
		-->
        <!-- repository -->
        <property name="server" category="Repository" referenced-type="artifactory.Server" kind="ci" description="Sonatype Artifactory server to poll"/>
        <property name="repositoryId" category="Repository" required="true" description="Repository ID to watch, e.g. releases, snapshots, apache-snapshots"/>
        <property name="username" category="Repository" default="" required="false" description="Custom username to override global server configuration"/>
        <property name="password" category="Repository" default="" required="false" password="true" description="Custom password to override global server configuration"/>

        <!-- options 
        <property name="packaging" category="Options" required="false" description="Packaging type of the artifact (e.g. 'jar', 'war')"/>
        <property name="classifier" category="Options" required="false" description="Classifier of the artifact"/>
        <property name="extension" category="Options" required="false" description="Extension of the artifact"/>
        <property name="triggerOnInitialPublish" category="Options" kind="boolean" default="false" required="false" description="Should suppress error when artifact not found for the given GAV coordinates. Set this to true when artifact was never published to Artifactory and you want to trigger a release on the initial publish. Default value is 'false'"/>
        -->

        <!-- output variables -->
        <property name="artifactVersion" category="variables" required="false" description="Latest artifact version. For Snapshots the version includes timestamp and build number"/>
        <!--<property name="artifactBaseVersion" category="variables" required="false" description="Latest base artifact version. For Releases same as 'artifactVersion', for Snapshots base version (i.e. 1.0-SNAPSHOT) without additional qualifiers"/>
        <property name="artifactSnapshotBuildNumber" category="variables" required="false" description="Latest artifact snapshot build number"/> -->
        <property name="artifactRepositoryPath" category="variables" required="false" description="Artifact path relative to the selected Artifactory repository"/>
    </type>

    <type type="artifactory.Server" extends="configuration.HttpConnection">
    </type>

</synthetic>
